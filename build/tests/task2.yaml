apiVersion: tekton.dev/v1alpha1
kind: Task
metadata:
  name: task2
spec:
  resources:
    inputs:
      - name: source
        type: git
  params:
##    - name: revision
##      description: The GIT revision
##      type: string  
##    - name: url
##      description: The GIT repository URL
##      type: string  
    - name: pullRequestTitle
      description: The title of the pull request
      type: string  
##    - name: number
##      description: The pull request number
##      type: string  
##    - name: user
##      description: The ID of the user submitting the pull request
##      type: string  
  steps:
    - name: pr-information
      command:
        - /bin/sh
        - '-c'
      args:
        - |-
          echo "--------------------------------------------------------"
          echo " Pull request information .............................."
          echo "PR Title : $(params.pullRequestTitle)"
          echo "--------------------------------------------------------"
      image: registry.redhat.io/ocp-tools-43-tech-preview/source-to-image-rhel8
    - name: list-file
      command:
        - ls
        - '-al'
      image: registry.redhat.io/ocp-tools-43-tech-preview/source-to-image-rhel8
      workingDir: /workspace/source
    - name: cat-task2-yaml
      command:
        - cat
        - task2.yaml
      image: registry.redhat.io/ocp-tools-43-tech-preview/source-to-image-rhel8
      workingDir: /workspace/source/build/tests
    - name: cat-test-file
      command:
        - cat
        - test_file
      image: registry.redhat.io/ocp-tools-43-tech-preview/source-to-image-rhel8
      workingDir: /workspace/source    