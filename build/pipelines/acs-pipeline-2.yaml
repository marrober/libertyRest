apiVersion: tekton.dev/v1beta1
kind: Pipeline
metadata:
  name: config-validation-liberty-rest-2
  namespace: liberty-rest-dev
  labels:
    app.kubernetes.io/instance: liberty-rest-app
    pipeline.openshift.io/type: kubernetes
spec:
  params:
  - name: rox_central_endpoint
    type: string
  - name: rox_api_token
    type: string
  - name: source_location
    type: string
  resources:
  - name: app-source
    type: git
  tasks:
  - name: resource-deployment-check
    params:
    - name: rox_central_endpoint
      value: $(params.rox_central_endpoint)
    - name: rox_api_token
      value: $(params.rox_api_token)
    - name: source_location
      value: $(params.source_location)
    resources:
      inputs:
      - name: source
        resource: app-source
    taskRef:
      kind: Task
      name: acs-deployment-check-2
    workspaces:
    - name: result-files
      workspace: files
  - name: process-deployment-check-results
    taskRef:
      kind: Task
      name: acs-process-scan-results
    runAfter:
    - resource-deployment-check
    workspaces:
    - name: result-files
      workspace: files
  workspaces:
  - name: files
